<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • bit64</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="bit64.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bit64</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">4.7.99</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/bit64/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/r-lib/bit64/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.7.99" id="bit64-4799-in-development">bit64 4.7.99 (in development)<a class="anchor" aria-label="anchor" href="#bit64-4799-in-development"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-4-7-99">BREAKING CHANGES<a class="anchor" aria-label="anchor" href="#breaking-changes-4-7-99"></a></h3>
<ol style="list-style-type: decimal"><li>{bit64} no longer <code>Depends</code> on {bit}; instead it <code>Imports</code> it. Please file an issue if this affects you before release; I plan to have {bit64} temporarily re-export some objects from {bit} to minimize the number of downstream packages/scripts adversely affected.</li>
</ol><p>Here I copy the advice from 4.6.0-1 about how to adapt to this as a user depending on {bit64} if it affects you:</p>
<p>Users relying on this in scripts can (1) write <code><a href="https://github.com/r-lib/bit" class="external-link">library(bit)</a></code> to attach {bit} explicitly or (2) namespace-qualify all {bit} calls with <code>bit::</code>.</p>
<p>Package authors relying on this can (1) add <code>import(bit)</code> to make the full {bit} namespace available or (2) namespace-qualify all {bit} calls with <code>bit::</code>; adding {bit} to <code>Imports:</code> or <code>Suggests:</code> will also be necessary.</p>
<ol style="list-style-type: decimal"><li>
<p>The following S3 methods now generate a warning if called directly (but not if called properly, i.e. <em>via</em> S3 dispatch on the generic):</p>
<p><code>:.default</code>, <code>:.integer64</code>, <code>[.integer64</code>, <code>[[.integer64</code>, <code>[[&lt;-.integer64</code>, <code>%in%.default</code>, <code>%in%.integer64</code>, <code>length&lt;-.integer64</code>, <code>all.equal.integer64</code>, <code>as.bitstring.integer64</code>, <code>as.integer64.bitstring</code>, <code>as.integer64.factor</code>, <code>as.integer64.integer64</code>, <code>as.integer64.NULL</code>, <code>as.list.integer64</code>, <code>as.logical.integer64</code>, <code>cbind.integer64</code>, <code>diff.integer64</code>, <code>duplicated.integer64</code>, <code>hashdup.cache_integer64</code>, <code>hashfin.cache_integer64</code>, <code>hashfun.integer64</code>, <code>hashmap.integer64</code>, <code>hashmaptab.integer64</code>, <code>hashmapuni.integer64</code>, <code>hashmapupo.integer64</code>, <code>hashpos.cache_integer64</code>, <code>hashrev.cache_integer64</code>, <code>hashrin.cache_integer64</code>, <code>hashtab.cache_integer64</code>, <code>hashuni.cache_integer64</code>, <code>hashupo.cache_integer64</code>, <code>is.double.default</code>, <code>is.double.integer64</code>, <code>is.finite.integer64</code>, <code>is.infinite.integer64</code>, <code>is.nan.integer64</code>, <code>is.sorted.integer64</code>, <code>is.vector.integer64</code>, <code>keypos.integer64</code>, <code>match.default</code>, <code>match.integer64</code>, <code>mean.integer64</code>, <code>median.integer64</code>, <code>mergeorder.integer64</code>, <code>mergesort.integer64</code>, <code>mergesortorder.integer64</code>, <code>na.count.integer64</code>, <code>nties.integer64</code>, <code>nunique.integer64</code>, <code>nvalid.integer64</code>, <code>order.default</code>, <code>order.integer64</code>, <code>orderdup.integer64</code>, <code>orderfin.integer64</code>, <code>orderkey.integer64</code>, <code>ordernut.integer64</code>, <code>orderpos.integer64</code>, <code>orderqtl.integer64</code>, <code>orderrnk.integer64</code>, <code>ordertab.integer64</code>, <code>ordertie.integer64</code>, <code>orderuni.integer64</code>, <code>orderupo.integer64</code>, <code>prank.integer64</code>, <code>print.bitstring</code>, <code>qtile.integer64</code>, <code>quantile.integer64</code>, <code>quickorder.integer64</code>, <code>quicksort.integer64</code>, <code>quicksortorder.integer64</code>, <code>radixorder.integer64</code>, <code>radixsort.integer64</code>, <code>radixsortorder.integer64</code>, <code>ramorder.integer64</code>, <code>ramsort.integer64</code>, <code>ramsortorder.integer64</code>, <code>rank.default</code>, <code>rbind.integer64</code>, <code>scale.integer64</code>, <code>shellorder.integer64</code>, <code>shellsort.integer64</code>, <code>shellsortorder.integer64</code>, <code>sort.integer64</code>, <code>sortfin.integer64</code>, <code>sortnut.integer64</code>, <code>sortorderdup.integer64</code>, <code>sortorderkey.integer64</code>, <code>sortorderpos.integer64</code>, <code>sortorderrnk.integer64</code>, <code>sortordertab.integer64</code>, <code>sortordertie.integer64</code>, <code>sortorderuni.integer64</code>, <code>sortorderupo.integer64</code>, <code>sortqtl.integer64</code>, <code>sorttab.integer64</code>, <code>sortuni.integer64</code>, <code>summary.integer64</code>, <code>table.integer64</code>, <code>tiepos.integer64</code>, <code>unipos.integer64</code></p>
<p>As noted in the notes for 4.6.0-1, there was no recorded instance of users calling these methods directly on GitHub; in the next release, they will be removed from the NAMESPACE. Note that <code>as.integer64.bitstring</code> is a new addition here – on follow-up, the only references were in old (e.g. 2020) Advent of Code solutions and archived repos.</p>
<p>To disable this warning, use <code>options(bit64.warn.exported.s3.method = FALSE)</code>.</p>
</li>
<li>
<p>The following S3 methods were directly removed from the NAMESPACE:</p>
<p><code>-.integer64</code>, <code>!.integer64</code>, <code>!=.integer64</code>, <code>*.integer64</code>, <code>/.integer64</code>, <code>&amp;.integer64</code>, <code>%/%.integer64</code>, <code>%%.integer64</code>, <code>^.integer64</code>, <code>+.integer64</code>, <code>&lt;.integer64</code>, <code>&lt;=.integer64</code>, <code>==.integer64</code>, <code>&gt;.integer64</code>, <code>&gt;=.integer64</code>, <code>|.integer64</code>, <code>ceiling.integer64</code>, <code>cummax.integer64</code>, <code>cummin.integer64</code>, <code>cumprod.integer64</code>, <code>cumsum.integer64</code>, <code>floor.integer64</code>, <code>log10.integer64</code>, <code>log2.integer64</code>, <code>prod.integer64</code>, <code>range.integer64</code>, <code>round.integer64</code>, <code>sign.integer64</code>, <code>signif.integer64</code>, <code>sqrt.integer64</code>, <code>trunc.integer64</code></p>
<p>Owing to a quirk in R, it is not possible to pursue the same strategy for these methods as for those mentioned above because it is not possible to inspect the call stack to distinguish whether the corresponding generic was invoked or the method was invoked directly.</p>
<p>Because there was no recorded direct usage for any of these, I am opting to just rip the band-aid off and un-export them in this release as opposed to waiting a full cycle more to do so.</p>
</li>
<li><p><code>as.integer64.integer64</code> returns a plain <code>integer64</code> vector stripped of any attributes. This is consistent with R like behavior, e.g. <code>as.integer.integer</code>.</p></li>
</ol></div>
<div class="section level3">
<h3 id="new-features-4-7-99">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-4-7-99"></a></h3>
<ol style="list-style-type: decimal"><li>
<code>anyNA</code> gets an <code>integer64</code> method. Thanks <a href="https://github.com/hcirellu" class="external-link">@hcirellu</a>.</li>
<li>The <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq()</a></code> method for <code>integer64</code> has been overhauled to better match features from the default method.
<ul><li>The motivation is <a href="https://github.com/r-lib/bit64/issues/47" class="external-link">#47</a>, where <code>seq(as.integer64(1L), 11L, length.out=6L)</code> calculated <code>by=</code> incorrectly to give <code>1:6</code> instead of <code>c(1L, 3L, ..., 9L, 11L)</code>.</li>
<li>
<code>length.out=</code> was also sometimes ignored, for example <code>seq(to=as.integer64(5L), length.out=0L)</code> will now always just give <code><a href="../reference/bit64-package.html">integer64()</a></code>.</li>
<li>
<code>seq(a, a, by=by)</code> is no longer an error.</li>
<li>We match the default method behavior of assuming <code>from=1</code> and <code>to=1</code> if needed in order to support usage like <code>seq(as.integer64(10L), by=-1L)</code> and <code>seq(by=as.integer64(3L), length.out=8L)</code>.</li>
<li>
<code>seq(a, a, length.out=n)</code> will give <code>rep(a, n)</code>, not <code>seq(a, by=1, length.out=n)</code>.</li>
</ul></li>
<li>Coercion to/from integer64 is expanded greatly (includes <a href="https://github.com/r-lib/bit64/issues/199" class="external-link">#199</a>). Thanks <a href="https://github.com/hcirellu" class="external-link">@hcirellu</a>.
<ul><li>
<code>as.Date</code>, <code>as.POSIXct</code>, <code>as.POSXlt</code>, <code>as.complex</code>, and <code>as.raw</code> get an <code>integer64</code> method.</li>
<li>
<code>as.integer64</code> gets <code>Date</code>, <code>POSIXct</code>, <code>POSXlt</code>, <code>complex</code>, <code>raw</code>, and <code>difftime</code> methods.</li>
</ul></li>
<li>
<code>as.integer64.character</code> now supports hexadecimal (base 16) input when prefixed with “0x” or “-0x”, e.g. <code>as.integer64("0x7FFFFFFFFFFFFFFF")</code>. Thanks <a href="https://github.com/hcirellu" class="external-link">@hcirellu</a> for a PR which completes work begun by <a href="https://github.com/marcpaterno" class="external-link">@marcpaterno</a>.</li>
<li>
<code>sortcache</code>, <code>sortordercache</code> and <code>ordercache</code> get a new argument <code>na.last</code>.</li>
<li>
<code>matrix</code>, <code>array</code>, <code>%*%</code> and <code>as.matrix</code> get an <code>integer64</code> method (<a href="https://github.com/r-lib/bit64/issues/45" class="external-link">#45</a>). Thanks <a href="https://github.com/hcirellu" class="external-link">@hcirellu</a>.</li>
</ol></div>
<div class="section level3">
<h3 id="bug-fixes-4-7-99">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-4-7-99"></a></h3>
<ol style="list-style-type: decimal"><li>
<code>min.integer64</code>, <code>max.integer64</code> and <code>range.integer64</code> now support <code>na.rm=TRUE</code> correctly when combining across mutliple inputs like <code>min(x, NA_integer64_, na.rm=TRUE)</code> (<a href="https://github.com/r-lib/bit64/issues/142" class="external-link">#142</a>).</li>
<li>
<code>as.integer64.integer64</code> is consistent with <code>as.integer.integer</code> in terms or returning a plain integer64 vector (i.e., stripped of attributes; <a href="https://github.com/r-lib/bit64/issues/188" class="external-link">#188</a>). Thanks <a href="https://github.com/hcirellu" class="external-link">@hcirellu</a>.</li>
<li>
<code>log(integer64(), base=integer64(1))</code> no longer warns, consistent with <code>log(integer(), base=integer())</code> (<a href="https://github.com/r-lib/bit64/issues/93" class="external-link">#93</a>).</li>
<li>
<code>sortfin(integer64(), 1:10)</code> no longer segfaults (<a href="https://github.com/r-lib/bit64/issues/164" class="external-link">#164</a>).</li>
<li>
<code>orderfin(as.integer64(10:1), 1:3, 8:11)</code> enforces that <code>table</code> be sorted by <code>order</code> instead of segfaulting (<a href="https://github.com/r-lib/bit64/issues/166" class="external-link">#166</a>).</li>
<li>
<code><a href="../reference/sortnut.html">ordertab()</a></code> no longer segfaults when <code>nunique</code> is smaller than the actual number of unique values (<a href="https://github.com/r-lib/bit64/issues/168" class="external-link">#168</a>).</li>
<li>
<code>as.integer64.character</code> now returns <code>NA</code> for out of range values, with warning, e.g. <code>as.integer64("22222222222222222222")</code> (<a href="https://github.com/r-lib/bit64/issues/175" class="external-link">#175</a>). Thanks <a href="https://github.com/hcirellu" class="external-link">@hcirellu</a>.</li>
<li>
<code><a href="https://rdrr.io/pkg/bit/man/Sorting.html" class="external-link">quicksort()</a></code> and others no longer segfault on trivial cases (e.g. sorting 0 or 1 item, <a href="https://github.com/r-lib/bit64/issues/220" class="external-link">#220</a>).</li>
</ol></div>
<div class="section level3">
<h3 id="notes-4-7-99">NOTES<a class="anchor" aria-label="anchor" href="#notes-4-7-99"></a></h3>
<ol style="list-style-type: decimal"><li>{bit64} no longer prints any start-up messages through an <code>.onAttach()</code> hook (<a href="https://github.com/r-lib/bit64/issues/106" class="external-link">#106</a>). Thanks <a href="https://github.com/hadley" class="external-link">@hadley</a> for the request.</li>
<li>The R version dependency has been bumped from 3.4.0 (2017) to 3.5.0 (2018).</li>
</ol></div>
<div class="section level3">
<h3 id="bug-fixes-4-7-99-1">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-4-7-99-1"></a></h3>
<ol style="list-style-type: decimal"><li>
<code>median(NA_integer64_, na.rm=FALSE)</code> and <code>median(integer64())</code> now return <code>NA_integer64_</code>, aligning its behavior with <code>median(NA_integer_)</code>, <a href="https://github.com/r-lib/bit64/issues/185" class="external-link">#185</a>. Previously the former threw an error while the latter gave an incorrect result. Thanks <a href="https://github.com/ben-schwen" class="external-link">@ben-schwen</a> for the report and the PR.</li>
</ol></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.6.0-1" id="bit64-460-1-2025-01-16">bit64 4.6.0-1 (2025-01-16)<a class="anchor" aria-label="anchor" href="#bit64-460-1-2025-01-16"></a></h2><p class="text-muted">CRAN release: 2025-01-16</p>
<div class="section level3">
<h3 id="notice-of-planned-breaking-changes-4-6-0-1">NOTICE OF PLANNED BREAKING CHANGES<a class="anchor" aria-label="anchor" href="#notice-of-planned-breaking-changes-4-6-0-1"></a></h3>
<ol style="list-style-type: decimal"><li>{bit64} exports many S3 methods directly. Calling S3 methods directly is generally bad form; we should rely on the S3 dispatch system for this. Needing to export an S3 method is usually indicative of some deep issue that’s otherwise hard to work around.</li>
</ol><p>I plan to un-export most if not all S3 methods in future versions. In this release, there will be no change in behavior besides this notice in the NEWS. Going forward, I see two types of S3 exports: (1) exports that have no discoverable direct usage (that is, a global GitHub search, which includes the CRAN mirror, turned up <em>no</em> R code calling them directly, except perhaps in <code>:::</code> form, which would be unaffected by un-export); and (2) exports that <em>are</em> observed to be called directly by some number of downstreams. With the former, I am more comfortable un-exporting more aggressively; with the latter, I will take a more gradual approach.</p>
<p>Here are the S3 methods that are currently exported, for which I found no record of them being called directly:</p>
<p><code>-.integer64</code>, <code>:.default</code>, <code>:.integer64</code>, <code>!.integer64</code>, <code>!=.integer64</code>, <code>[.integer64</code>, <code>[[.integer64</code>, <code>[[&lt;-.integer64</code>, <code>*.integer64</code>, <code>/.integer64</code>, <code>&amp;.integer64</code>, <code>%/%.integer64</code>, <code>%%.integer64</code>, <code>%in%.default</code>, <code>%in%.integer64</code>, <code>^.integer64</code>, <code>+.integer64</code>, <code>&lt;.integer64</code>, <code>&lt;=.integer64</code>, <code>==.integer64</code>, <code>&gt;.integer64</code>, <code>&gt;=.integer64</code>, <code>|.integer64</code>, <code>all.equal.integer64</code>, <code>as.bitstring.integer64</code>, <code>as.integer64.factor</code>, <code>as.integer64.integer64</code>, <code>as.integer64.NULL</code>, <code>as.list.integer64</code>, <code>as.logical.integer64</code>, <code>cbind.integer64</code>, <code>ceiling.integer64</code>, <code>cummax.integer64</code>, <code>cummin.integer64</code>, <code>cumprod.integer64</code>, <code>cumsum.integer64</code>, <code>diff.integer64</code>, <code>duplicated.integer64</code>, <code>floor.integer64</code>, <code>hashdup.cache_integer64</code>, <code>hashfin.cache_integer64</code>, <code>hashfun.integer64</code>, <code>hashmap.integer64</code>, <code>hashmaptab.integer64</code>, <code>hashmapuni.integer64</code>, <code>hashmapupo.integer64</code>, <code>hashpos.cache_integer64</code>, <code>hashrev.cache_integer64</code>, <code>hashrin.cache_integer64</code>, <code>hashtab.cache_integer64</code>, <code>hashuni.cache_integer64</code>, <code>hashupo.cache_integer64</code>, <code>is.double.default</code>, <code>is.double.integer64</code>, <code>is.finite.integer64</code>, <code>is.infinite.integer64</code>, <code>is.nan.integer64</code>, <code>is.sorted.integer64</code>, <code>is.vector.integer64</code>, <code>keypos.integer64</code>, <code>length&lt;-.integer64</code>, <code>log10.integer64</code>, <code>log2.integer64</code>, <code>match.default</code>, <code>match.integer64</code>, <code>mean.integer64</code>, <code>median.integer64</code>, <code>mergeorder.integer64</code>, <code>mergesort.integer64</code>, <code>mergesortorder.integer64</code>, <code>na.count.integer64</code>, <code>nties.integer64</code>, <code>nunique.integer64</code>, <code>nvalid.integer64</code>, <code>order.default</code>, <code>order.integer64</code>, <code>orderdup.integer64</code>, <code>orderfin.integer64</code>, <code>orderkey.integer64</code>, <code>ordernut.integer64</code>, <code>orderpos.integer64</code>, <code>orderqtl.integer64</code>, <code>orderrnk.integer64</code>, <code>ordertab.integer64</code>, <code>ordertie.integer64</code>, <code>orderuni.integer64</code>, <code>orderupo.integer64</code>, <code>prank.integer64</code>, <code>print.bitstring</code>, <code>prod.integer64</code>, <code>qtile.integer64</code>, <code>quantile.integer64</code>, <code>quickorder.integer64</code>, <code>quicksort.integer64</code>, <code>quicksortorder.integer64</code>, <code>radixorder.integer64</code>, <code>radixsort.integer64</code>, <code>radixsortorder.integer64</code>, <code>ramorder.integer64</code>, <code>ramsort.integer64</code>, <code>ramsortorder.integer64</code>, <code>range.integer64</code>, <code>rank.default</code>, <code>rbind.integer64</code>, <code>round.integer64</code>, <code>scale.integer64</code>, <code>shellorder.integer64</code>, <code>shellsort.integer64</code>, <code>shellsortorder.integer64</code>, <code>sign.integer64</code>, <code>signif.integer64</code>, <code>sort.integer64</code>, <code>sortfin.integer64</code>, <code>sortnut.integer64</code>, <code>sortorderdup.integer64</code>, <code>sortorderkey.integer64</code>, <code>sortorderpos.integer64</code>, <code>sortorderrnk.integer64</code>, <code>sortordertab.integer64</code>, <code>sortordertie.integer64</code>, <code>sortorderuni.integer64</code>, <code>sortorderupo.integer64</code>, <code>sortql.integer64</code>, <code>sorttab.integer64</code>, <code>sortuni.integer64</code>, <code>sqrt.integer64</code>, <code>summary.integer64</code>, <code>table.integer64</code>, <code>tiepos.integer64</code>, <code>trunc.integer64</code>, <code>unipos.integer64</code></p>
<p>Here are the S3 methods that are currently exported for which I <em>do</em> find record of them being called directly:</p>
<p><code>abs.integer64</code>, <code>as.character.integer64</code>, <code>as.data.frame.integer64</code>, <code>as.double.integer64</code>, <code>as.integer.integer64</code>, <code>as.integer64.bitstring</code>, <code>as.integer64.character</code>, <code>as.integer64.double</code>, <code>as.integer64.integer</code>, <code>as.integer64.logical</code>, <code>c.integer64</code>, <code>format.integer64</code>, <code>identical.integer64</code>, <code>is.na.integer64</code>, <code>lim.integer64</code>, <code>max.integer64</code>, <code>min.integer64</code>, <code>print.integer64</code>, <code>rank.integer64</code>, <code>seq.integer64</code>, <code>str.integer64</code>, <code>sum.integer64</code>, <code>unique.integer64</code></p>
<p>In the next release (provisionally, 4.7.0), I will add a <code><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning()</a></code> to any S3 method in the former classification, while nothing will change for the latter classification. I may reach out to authors observed to call the methods directly.</p>
<p>In the subsequent release (provisionally, 4.8.0), I will un-export any S3 method in the former classification, and add a <code><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning()</a></code> to any S3 method in the latter classification.</p>
<p>In the sub-subsequent release (provisionally, 4.9.0), I will un-export any S3 method in the latter classification.</p>
<p>Please reach out (e.g., the GitHub log for <a href="https://github.com/r-lib/bit64/issues/76" class="external-link">#76</a>) if you have any concerns about this plan.</p>
<ol style="list-style-type: decimal"><li>{bit64} lists {bit} as <code>Depends:</code>. IMO this form of dependency should be deprecated by R now that <code>Imports:</code> is widely available and well-supported for many years.</li>
</ol><p>In the next release (provisionally, 4.7.0), I will move bit to Imports. The practical implication is that currently, <code><a href="https://github.com/r-lib/bit64" class="external-link">library(bit64)</a></code> will make {bit} objects like <code><a href="https://rdrr.io/pkg/bit/man/is.booltype.html" class="external-link">is.bit()</a></code> available for use without namespace-qualification. This practice makes code harder to read and maintain.</p>
<p>Users relying on this in scripts can (1) write <code><a href="https://github.com/r-lib/bit" class="external-link">library(bit)</a></code> to attach {bit} explicitly or (2) namespace-qualify all {bit} calls with <code>bit::</code>.</p>
<p>Package authors relying on this can (1) add <code>import(bit)</code> to make the full {bit} namespace available or (2) namespace-qualify all {bit} calls with <code>bit::</code>; adding {bit} to <code>Imports:</code> or <code>Suggests:</code> will also be necessary.</p>
<p>I will reach out to CRAN authors with any required changes. Depending on the impact size, I might make this transition more gradual (e.g. starting by re-exporting some or all {bit} functions from {bit64}, with warning, before un-exporting them in a subsequent release).</p>
</div>
<div class="section level3">
<h3 id="new-features-4-6-0-1">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-4-6-0-1"></a></h3>
<ol style="list-style-type: decimal"><li>Implemented S3 methods for <code><a href="../reference/matrix64.html">rowSums()</a></code> and <code><a href="../reference/matrix64.html">colSums()</a></code>. Importantly they handle <code>NA</code> values correctly, <a href="https://github.com/r-lib/bit64/issues/38" class="external-link">#38</a>. Thanks <a href="https://github.com/vlulla" class="external-link">@vlulla</a> for the request. Note that these are implemented as wrappers to <code><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply()</a></code> calls, so they may not be as efficient. PRs welcome for implementing the efficient equivalents.</li>
</ol><p>Note that by necessity, this grows the set of base exports overwritten to include <code><a href="../reference/matrix64.html">rowSums()</a></code> and <code><a href="../reference/matrix64.html">colSums()</a></code>, which are exported as S3 generics dispatching to <code><a href="https://rdrr.io/r/base/colSums.html" class="external-link">base::rowSums()</a></code> and <code><a href="https://rdrr.io/r/base/colSums.html" class="external-link">base::colSums()</a></code> by default.</p>
<ol style="list-style-type: decimal"><li><p>Partially powering this is a new <code><a href="https://rdrr.io/r/base/aperm.html" class="external-link">aperm()</a></code> method for integer64 which allows <code><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply()</a></code> to work as intended. Using <code><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply()</a></code> directly may still strip the integer64 class; that may be supported later (see <a href="https://github.com/r-lib/bit64/issues/87" class="external-link">#87</a>).</p></li>
<li><p><code><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na()</a></code> is supported for long vector input (more than <code>2^31</code> elements), <a href="https://github.com/r-lib/bit64/issues/30" class="external-link">#30</a>. Thanks <a href="https://github.com/ilia-kats" class="external-link">@ilia-kats</a> for the request. Long vector support will be added on an as-needed basis as I don’t have a great machine for testing these features – PRs welcome!</p></li>
</ol></div>
<div class="section level3">
<h3 id="bug-fixes-4-6-0-1">BUG FIXES<a class="anchor" aria-label="anchor" href="#bug-fixes-4-6-0-1"></a></h3>
<ol style="list-style-type: decimal"><li><p><code><a href="../reference/all.equal.integer64.html">all.equal.integer64()</a></code> gets the same fix for vector <code>scale=</code> to work as intended that <code><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal.numeric()</a></code> got in R 4.1.3, <a href="https://github.com/r-lib/bit64/issues/23" class="external-link">#23</a>.</p></li>
<li><p>Made edits to <code><a href="../reference/bit64S3.html">match()</a></code> to handle <code>is.integer64(table)</code> better for older versions of R, including a new <code><a href="https://rdrr.io/r/base/mtfrm.html" class="external-link">mtfrm()</a></code> method for integer64 objects in R&gt;=4.2.0, <a href="https://github.com/r-lib/bit64/issues/85" class="external-link">#85</a> and <a href="https://github.com/r-lib/bit64/issues/111" class="external-link">#111</a>.</p></li>
</ol></div>
<div class="section level3">
<h3 id="notes-4-6-0-1">NOTES<a class="anchor" aria-label="anchor" href="#notes-4-6-0-1"></a></h3>
<ol style="list-style-type: decimal"><li>After creating, developing, and maintaining {bit64} for about 13 years, Jens Oehlschlägel has decided to step down as maintainer of the package. Michael Chirico will take over in this duty. Thank you Jens for creating such a wonderful &amp; important part of the R ecosystem!</li>
</ol><p>I don’t have any major plans for new features, and mostly hope to keep the package running and up to date. Contributors most welcome! I am also trying to freshen up the code base to make contribution easier.</p>
<ol style="list-style-type: decimal"><li>The R version dependency has increased from 3.0.1 (May 2013) to 3.4.0 (April 2017). We plan to keep roughly the same R dependency as {data.table}, i.e., as old as possibly for as long as possible, with some bias towards gradually bringing in new R features to reduce the maintenance overhead of a growing nest of workarounds to keep the package “fresh” for users of the latest R versions.</li>
</ol><p>Required package {bit} already requires R 3.4.0, so the old 3.0.1 requirement was effectively impossible anyway.</p>
<ol style="list-style-type: decimal"><li>Default packages {methods}, {stats}, and {utils} are now <code>Imports:</code>, not <code>Depends:</code>, dependencies. <code>Depends:</code> is an out-dated mode of dependency in R. This will only affect the small audience of users that run R with <code>R_DEFAULT_PACKAGES=NULL</code> (or some other subset excluding some of these three), <em>and</em> who are relying (perhaps implicitly) on {bit64} being responsible for attaching those packages.</li>
</ol><p>It is my intention to move {bit} from <code>Depends:</code> to <code>Imports:</code> as well, but this migration will be done more gingerly – it is more conceivable that this will constitute a breaking change for some use cases, therefore it will be done in phases. Nothing is done in this release, but here is your earliest warning that from the next release, it will be a warning to rely on {bit64} to attach {bit} functions for you.</p>
<ol style="list-style-type: decimal"><li><p>Package documentation is now managed with {roxygen2}, <a href="https://github.com/r-lib/bit64/issues/61" class="external-link">#61</a>. I tried to retain everything in the original documentation, but the diff required to do so was quite unmanageable (5,000+ lines), so please alert me if anything looks amiss. Most importantly, I ensured the NAMESPACE remains unchanged.</p></li>
<li><p>The signature of <code><a href="../reference/identical.integer64.html">identical.integer64()</a></code> loses <code>extptr.as.ref=</code>, which is unavailable for R&lt;4.2.0, but gains <code>...</code> to allow this argument in newer versions, <a href="https://github.com/r-lib/bit64/issues/37" class="external-link">#37</a>. This retains the transparency of having all arguments named in the signature (and thus in <code><a href="../reference/identical.integer64.html">?identical.integer64</a></code> as well as available for tab-completion) while also retaining the old R version dependency R 3.3.0.</p></li>
</ol></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by Michael Chirico, Jens Oehlschlägel.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer></body></html>

